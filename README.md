# godbreath
go + dbr + eath CRUD function generator.

## Install

set GOPATH, and

    go get github.com/nunun/godbreath/cmd/godbreath

## How to use

    godbreath [-t <template path>] <source path>

place "user.go" and "gen.yml" into "src" directory, then manually

    godbreath -t gen src/

or go generate

    (cd src; go generate)

user.go: dbr model struct.

    //go:generate godbreath
    package test
    type User struct {
        Id   int    `db:"id" dblabel:"auto,private"`
        Uuid string `db:"uuid"`
        Name string `db:"name"`
    } // user: Insert

gen.yml: define function templates.

    Insert:
      import:
        - "os"
      func: |
        func Insert{{.TypeName}}(data *{{.TypeName}}) {
          // TypeName       = {{.TypeName}}
          // TableName      = {{.TableName}}
          // Columns        = {{.Columns}}
          // UpdateColumns  = {{.UpdateColumns}}
          // LabeledColumns = {{.LabeledColumns}}
        }

user\_gen.go: generated by godbreath after type command.

     package test
     import "os"
     func InsertUser(data *User) {
       // TypeName       = User
       // TableName      = user
       // Columns        = [id uuid name]
       // UpdateColumns  = [uuid name]
       // LabeledColumns = map[auto:[id] private:[id]]
     }

